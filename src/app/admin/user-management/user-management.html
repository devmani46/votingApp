<div class="user-management">
  <div class="header">
    <app-burger-menu></app-burger-menu>
    <h2>User Management</h2>
    <img class="admin-photo" src="/assets/admin.png" alt="Admin" />
  </div>

  <div class="section">
    <div class="section-header" style="display: flex; justify-content: space-between; align-items: center;">
      <h3>Users (Voters)</h3>
      <app-fui-input
        placeholder="Search by name/email"
        [formControl]="searchControl"
      ></app-fui-input>
    </div>

<div class="sort-controls" style="margin: 0.5rem 0;">
  <span>Sort by: </span>
  <app-button
    size="small"
    [appearance]="sortField === 'name' ? 'primary' : 'outline'"
    (click)="changeSort('name')"
  >
    Name {{ sortField === 'name' ? (sortDirection === 'asc' ? '↑' : '↓') : '' }}
  </app-button>

  <app-button
    size="small"
    [appearance]="sortField === 'email' ? 'primary' : 'outline'"
    (click)="changeSort('email')"
  >
    Email {{ sortField === 'email' ? (sortDirection === 'asc' ? '↑' : '↓') : '' }}
  </app-button>
</div>


    <div class="user-list">
      @if (filteredUsers.length === 0) {
        <p>No users yet.</p>
      } @else {
        @for (u of filteredUsers; let i = $index; track i) {
        <div class="user-card">
          <p><strong>{{ u.name }}</strong> ({{ u.email }})</p>
        </div>
        }
      }
    </div>
  </div>
</div>
