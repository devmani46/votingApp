<div class="profile-container">
  <h2>User Profile</h2>

  <div class="profile-img-container">
    <img [src]="previewImage" alt="User" class="profile-img" />

    <label class="upload-btn">
      Change Picture
      <input type="file" accept="image/*" (change)="onFileChange($event)" hidden />
    </label>
  </div>

  @if (!editMode) {
    <div class="profile-details">
      <h3>{{ user.firstName }} {{ user.lastName }}</h3>
      <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
    </div>
  }

  @if (editMode) {
    <div class="profile-edit">
      <input [(ngModel)]="user.firstName" placeholder="First Name" />
      <input [(ngModel)]="user.lastName" placeholder="Last Name" />
      <input [(ngModel)]="user.username" placeholder="Username" />
      <input [(ngModel)]="user.email" type="email" placeholder="Email" />
    </div>
  }

  <div class="btn-group">
    @if (!editMode) {
      <button class="btn primary" (click)="toggleEdit()">Edit Profile</button>
    }
    @if (editMode) {
      <button class="btn success" (click)="saveChanges()">Save</button>
      <button class="btn cancel" (click)="toggleEdit()">Cancel</button>
    }
    <button class="btn outline" (click)="goBack()">â¬… Back to User Page</button>
    <button class="btn danger" (click)="logout()">Logout</button>
  </div>
</div>
